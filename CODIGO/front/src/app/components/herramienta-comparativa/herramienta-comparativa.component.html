
<div style="max-width: 1600px" class="container-fluid">
  <app-usuario></app-usuario>
  <div class="espacio"></div>
  <div class="clear"></div>
  <app-module-dropdown></app-module-dropdown>
  <span>
    <h2>{{ 'HERRAMIENTA_COMPARATIVA' | translate | uppercase }}</h2>
  </span>
  <div class="espacio"></div>
  <div class="d-flex flex-column">

    <span class="mb-3">
        <p-dropdown [options]="evaluationPeriods" (onChange)="onDropdownChange($event)" [(ngModel)]="selectedEvaluation" placeholder="{{'SELECCIONAR_PERIODO' | translate }}" [editable]="true" optionLabel="description"></p-dropdown>
    </span>

    <span class="mb-3">
      <p-multiSelect [defaultLabel]="'Items'" placeholder="{{'SELECCIONA_USUARIOS' | translate }}" [showToggleAll]="false" [options]="users" [(ngModel)]="selectedUsers" optionLabel="displayName" (onChange)="onMultiSelectChange($event)"></p-multiSelect>
    </span>

  </div>



  <div class="mat-elevation-z2">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <!-- Columna de secciones -->
      <ng-container matColumnDef="seccion">
        <th mat-header-cell *matHeaderCellDef></th>
        <td style="width: auto" mat-cell *matCellDef="let row">{{ row.seccion }}</td>
      </ng-container>

      <!-- Columna de usuario1 -->
      <ng-container matColumnDef="usuario1">
        <th mat-header-cell *matHeaderCellDef>{{nombresUser[0]}}</th>
        <td mat-cell *matCellDef="let row">{{ row.usuario1 }}</td>
      </ng-container>

      <!-- Columna de usuario2 -->
      <ng-container matColumnDef="usuario2">
        <th mat-header-cell *matHeaderCellDef>{{nombresUser[1]}}</th>
        <td mat-cell *matCellDef="let row">{{ row.usuario2 }}</td>
      </ng-container>

      <!-- Columna de usuario3 -->
      <ng-container matColumnDef="usuario3">
        <th mat-header-cell *matHeaderCellDef>{{nombresUser[2]}}</th>
        <td mat-cell *matCellDef="let row">{{ row.usuario3 }}</td>
      </ng-container>

      <!-- Columna de usuario4 -->
      <ng-container matColumnDef="usuario4">
        <th mat-header-cell *matHeaderCellDef>{{nombresUser[3]}}</th>
        <td mat-cell *matCellDef="let row">{{ row.usuario4 }}</td>
      </ng-container>

      <!-- Llena la tabla con datos -->
      <tr mat-header-row *matHeaderRowDef="columnas"></tr>
      <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
    </table>
  </div>

  <div class="mt-5 d-flex flex-row">
    <button (click)="downloadExcel()" style="margin-right: 10px" type="button" class="btn btn-primary">{{'DESCARGAR_EXCEL' | translate }}</button>
    <button (click)="downloadCSV()" type="button" class="btn btn-primary">{{'DESCARGAR_CSV' | translate }}</button>
  </div>

</div>







